<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.web.HTMLEditor?>
<?import javafx.geometry.Insets?>
<?import javafx.collections.FXCollections?>

<BorderPane fx:id="mainContainer" prefHeight="850.0" prefWidth="1400.0" xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.chapter4_challenge_diarymanager_gui.DashboardController">

    <left>
        <VBox prefWidth="190.0" spacing="15.0" style="-fx-background-color: #1e272e;">
            <children>
                <Button onAction="#handleBack" text="â† Back to Home" style="-fx-background-color: transparent; -fx-text-fill: #00d8d6; -fx-font-weight: bold; -fx-cursor: hand;" />

                <Label text="ðŸ““ Diary" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: white;">
                    <VBox.margin><Insets bottom="10.0" top="10.0" /></VBox.margin>
                </Label>

                <Button onAction="#handleEditProfile" text="ðŸ‘¤ Profile" maxWidth="Infinity" style="-fx-background-color: transparent; -fx-text-fill: #d2dae2; -fx-alignment: CENTER_LEFT; -fx-cursor: hand;" />
                <Button onAction="#handleToday" text="ðŸ“… Today" maxWidth="Infinity" style="-fx-background-color: transparent; -fx-text-fill: #d2dae2; -fx-alignment: CENTER_LEFT; -fx-cursor: hand;" />
                <Button onAction="#showCalendarView" text="ðŸ—“ï¸ Calendar" maxWidth="Infinity" style="-fx-background-color: transparent; -fx-text-fill: #d2dae2; -fx-alignment: CENTER_LEFT; -fx-cursor: hand;" />
                <Button onAction="#showStatisticsView" text="ðŸ“Š Statistics" maxWidth="Infinity" style="-fx-background-color: transparent; -fx-text-fill: #d2dae2; -fx-alignment: CENTER_LEFT; -fx-cursor: hand;" />
                <Button onAction="#showSettingsView" text="âš™ï¸ Settings" maxWidth="Infinity" style="-fx-background-color: transparent; -fx-text-fill: #d2dae2; -fx-alignment: CENTER_LEFT; -fx-cursor: hand;" />

                <Separator opacity="0.2" />

                <!-- Search Field -->
                <TextField fx:id="searchField" promptText="Search entries..." style="-fx-background-color: #2d3436; -fx-text-fill: white; -fx-border-color: #4b6584; -fx-border-radius: 3;" />

                <!-- Entry List with Sample Entries Structure -->
                <VBox spacing="5" style="-fx-padding: 5 0;">
                    <Label text="happy" style="-fx-text-fill: white; -fx-font-weight: bold;" />
                    <Label text="02 Jan" style="-fx-text-fill: #81ecec; -fx-font-size: 11px;" />
                    <Separator opacity="0.1" />

                    <Label text="Morning Reflection - 03 Jan 2026" style="-fx-text-fill: white; -fx-font-weight: bold;" />
                    <Label text="03 Jan" style="-fx-text-fill: #81ecec; -fx-font-size: 11px;" />
                    <Separator opacity="0.1" />

                    <Label text="Profile Update - 02 Jan 2026" style="-fx-text-fill: white; -fx-font-weight: bold;" />
                    <Label text="02 Jan" style="-fx-text-fill: #81ecec; -fx-font-size: 11px;" />
                    <Separator opacity="0.1" />

                    <Label text="Profile Update - 03 Jan 2026" style="-fx-text-fill: white; -fx-font-weight: bold;" />
                    <Label text="03 Jan" style="-fx-text-fill: #81ecec; -fx-font-size: 11px;" />
                </VBox>

                <!-- Actual Entry List (hidden behind) -->
                <ListView fx:id="entryList" VBox.vgrow="ALWAYS" style="-fx-background-color: transparent; -fx-control-inner-background: #1e272e; -fx-opacity: 0;" visible="false" />
            </children>
            <padding><Insets all="15.0" /></padding>
        </VBox>
    </left>

    <center>
        <VBox style="-fx-background-color: #f5f6fa;">
            <!-- Main Ribbon Toolbar -->
            <HBox spacing="15.0" style="-fx-background-color: white; -fx-border-color: #dcdde1; -fx-border-width: 0 0 1 0; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 5, 0, 0, 1);">
                <children>
                    <!-- Font Formatting Buttons -->
                    <HBox spacing="8" style="-fx-background-color: #f1f2f6; -fx-background-radius: 5; -fx-padding: 5;">
                        <ToggleButton fx:id="boldButton" onAction="#handleBold" text="B" style="-fx-font-weight: bold; -fx-min-width: 35; -fx-cursor: hand;" />
                        <ToggleButton fx:id="italicButton" onAction="#handleItalic" text="I" style="-fx-font-style: italic; -fx-min-width: 35; -fx-cursor: hand;" />
                        <ToggleButton fx:id="underlineButton" onAction="#handleUnderline" text="U" style="-fx-underline: true; -fx-min-width: 35; -fx-cursor: hand;" />
                    </HBox>

                    <Separator orientation="VERTICAL" />

                    <!-- Navigation Buttons -->
                    <Button onAction="#showWritingView" text="Write" style="-fx-background-color: transparent; -fx-border-color: transparent transparent #0078d4 transparent; -fx-border-width: 0 0 3 0; -fx-font-weight: bold; -fx-cursor: hand;" />
                    <Button onAction="#showInsertView" text="Insert" style="-fx-background-color: transparent; -fx-cursor: hand;" />

                    <Region HBox.hgrow="ALWAYS" />

                    <!-- Current Date Display -->
                    <Label fx:id="dateLabel" style="-fx-text-fill: #7f8c8d; -fx-font-weight: bold;" />
                </children>
                <padding><Insets left="20.0" right="20.0" top="10" bottom="10" /></padding>
            </HBox>

            <!-- Main Content Area -->
            <StackPane VBox.vgrow="ALWAYS">
                <children>
                    <!-- Welcome/Empty View -->
                    <VBox fx:id="welcomePane" alignment="CENTER" spacing="25.0" style="-fx-background-color: white;">
                        <Label text="Start a new diary entry" style="-fx-font-size: 26px; -fx-text-fill: #bdc3c7;" />
                        <Button onAction="#handlePlus" text="+"
                                style="-fx-background-color: #2ed573; -fx-text-fill: white; -fx-background-radius: 50; -fx-min-width: 100; -fx-min-height: 100; -fx-font-size: 45; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 5); -fx-cursor: hand;" />
                    </VBox>

                    <!-- Editor View -->
                    <VBox fx:id="editorPane" visible="false" spacing="0" style="-fx-background-color: white;">
                        <!-- Formatting Ribbon (from second screenshot) -->
                        <HBox fx:id="formatRibbon" spacing="10" style="-fx-background-color: #f8f9fa; -fx-border-color: #e9ecef; -fx-border-width: 0 0 1 0; -fx-padding: 8 20;">
                            <children>
                                <!-- Font Family -->
                                <ComboBox fx:id="fontFamilyCombo" promptText="Calibri" prefWidth="100">
                                    <items>
                                        <FXCollections fx:factory="observableArrayList">
                                            <String fx:value="Calibri" />
                                            <String fx:value="Arial" />
                                            <String fx:value="Times New Roman" />
                                            <String fx:value="Verdana" />
                                            <String fx:value="Georgia" />
                                            <String fx:value="Courier New" />
                                        </FXCollections>
                                    </items>
                                </ComboBox>

                                <!-- Font Size -->
                                <ComboBox fx:id="fontSizeCombo" promptText="11" prefWidth="60">
                                    <items>
                                        <FXCollections fx:factory="observableArrayList">
                                            <Integer fx:value="8" />
                                            <Integer fx:value="9" />
                                            <Integer fx:value="10" />
                                            <Integer fx:value="11" />
                                            <Integer fx:value="12" />
                                            <Integer fx:value="14" />
                                            <Integer fx:value="16" />
                                            <Integer fx:value="18" />
                                            <Integer fx:value="20" />
                                            <Integer fx:value="24" />
                                        </FXCollections>
                                    </items>
                                </ComboBox>

                                <!-- Formatting Buttons -->
                                <ToggleButton fx:id="ribbonBoldButton" text="B" style="-fx-font-weight: bold; -fx-min-width: 30;" />
                                <ToggleButton fx:id="ribbonItalicButton" text="I" style="-fx-font-style: italic; -fx-min-width: 30;" />
                                <ToggleButton fx:id="ribbonUnderlineButton" text="U" style="-fx-underline: true; -fx-min-width: 30;" />
                                <ColorPicker fx:id="ribbonFontColor" prefWidth="40" />

                                <Separator orientation="VERTICAL" />

                                <!-- Alignment -->
                                <ToggleButton fx:id="alignLeftButton" text="âŽ¸âŽ¹" style="-fx-min-width: 30;" />
                                <ToggleButton fx:id="alignCenterButton" text="âŽ¸âŽ¸" style="-fx-min-width: 30;" />
                                <ToggleButton fx:id="alignRightButton" text="âŽ¹âŽ¸" style="-fx-min-width: 30;" />
                                <ToggleButton fx:id="justifyButton" text="â˜°" style="-fx-min-width: 30;" />

                                <Separator orientation="VERTICAL" />

                                <!-- Heading Styles -->
                                <ToggleButton fx:id="noSpaceButton" text="No Spaci" style="-fx-font-size: 11px; -fx-background-color: transparent;" />
                                <ToggleButton fx:id="heading1Button" text="Heading 1" style="-fx-font-size: 11px; -fx-background-color: transparent; -fx-font-weight: bold;" />
                                <ToggleButton fx:id="heading2Button" text="Heading 2" style="-fx-font-size: 11px; -fx-background-color: transparent; -fx-font-weight: bold;" />
                                <ToggleButton fx:id="titleButton" text="Title" style="-fx-font-size: 11px; -fx-background-color: transparent; -fx-font-weight: bold;" />
                                <ToggleButton fx:id="subtitleButton" text="Subtitle" style="-fx-font-size: 11px; -fx-background-color: transparent;" />

                                <Separator orientation="VERTICAL" />

                                <!-- Bullets and Numbering -->
                                <Button fx:id="bulletListButton" text="â€¢" style="-fx-min-width: 30;" />
                                <Button fx:id="numberListButton" text="1." style="-fx-min-width: 30;" />

                                <Separator orientation="VERTICAL" />

                                <!-- Text Effects -->
                                <ToggleButton fx:id="superscriptButton" text="xÂ²" style="-fx-min-width: 30;" />
                                <ToggleButton fx:id="subscriptButton" text="xâ‚‚" style="-fx-min-width: 30;" />

                                <Region HBox.hgrow="ALWAYS" />

                                <!-- More Formatting -->
                                <Button fx:id="clearFormatButton" text="Clear Format" style="-fx-font-size: 11px;" />
                            </children>
                        </HBox>

                        <!-- Title Field -->
                        <TextField fx:id="titleField" promptText="Title..." style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-background-color: transparent; -fx-border-color: #eee; -fx-border-width: 0 0 2 0; -fx-padding: 20 30 10 30;" />

                        <!-- Status Label -->
                        <Label fx:id="statusLabel" text="New Entry" style="-fx-text-fill: #7f8c8d; -fx-font-size: 12px; -fx-padding: 5 30;" />

                        <!-- Content Editor -->
                        <HTMLEditor fx:id="contentEditor" VBox.vgrow="ALWAYS" style="-fx-font-size: 14px; -fx-padding: 0 30;" />

                        <!-- Action Buttons -->
                        <HBox alignment="CENTER_RIGHT" spacing="15" style="-fx-padding: 20 30;">
                            <Button onAction="#handleDelete" text="Delete" style="-fx-background-color: #ff4757; -fx-text-fill: white; -fx-padding: 10 25; -fx-font-weight: bold; -fx-cursor: hand;" />
                            <Button onAction="#handleSave" text="Save Document" style="-fx-background-color: #1e90ff; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 45; -fx-background-radius: 5; -fx-cursor: hand;" />
                        </HBox>
                    </VBox>
                </children>
            </StackPane>
        </VBox>
    </center>

    <!-- Right Sidebar for Statistics/Calendar/Settings -->
    <right>
        <StackPane fx:id="contentArea" prefWidth="350.0">
            <!-- Statistics View -->
            <VBox fx:id="statisticsView" visible="false" spacing="20" style="-fx-background-color: white; -fx-padding: 20;">
                <Label text="ðŸ“Š Statistics" style="-fx-font-size: 24px; -fx-font-weight: bold;" />
                <VBox spacing="15" style="-fx-padding: 10;">
                    <Label text="Total Entries:" style="-fx-font-size: 14px;" />
                    <Label fx:id="totalEntriesLabel" text="0" style="-fx-font-size: 36px; -fx-font-weight: bold; -fx-text-fill: #3498db;" />

                    <Separator />

                    <Label text="Avg Words per Entry:" style="-fx-font-size: 14px;" />
                    <Label fx:id="wordsPerEntryLabel" text="0.0" style="-fx-font-size: 36px; -fx-font-weight: bold; -fx-text-fill: #2ecc71;" />
                </VBox>
            </VBox>

            <!-- Calendar View -->
            <VBox fx:id="calendarView" visible="false" spacing="15" style="-fx-background-color: white; -fx-padding: 20;">
                <HBox alignment="CENTER" spacing="10">
                    <Button onAction="#handlePrevMonth" text="â—€" style="-fx-background-color: transparent; -fx-cursor: hand;" />
                    <Label fx:id="calendarMonthLabel" style="-fx-font-size: 18px; -fx-font-weight: bold;" />
                    <Button onAction="#handleNextMonth" text="â–¶" style="-fx-background-color: transparent; -fx-cursor: hand;" />
                </HBox>

                <GridPane fx:id="calendarGrid" hgap="5" vgap="5">
                    <columnConstraints>
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
                    </columnConstraints>
                    <rowConstraints>
                        <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                        <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                        <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                        <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                        <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                        <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                    </rowConstraints>
                </GridPane>
            </VBox>

            <!-- Settings View -->
            <VBox fx:id="settingsView" visible="false" spacing="20" style="-fx-background-color: white; -fx-padding: 20;">
                <Label text="âš™ï¸ Settings" style="-fx-font-size: 24px; -fx-font-weight: bold;" />
                <VBox spacing="15" style="-fx-padding: 10;">
                    <HBox spacing="10" alignment="CENTER_LEFT">
                        <Label text="Dark Theme:" style="-fx-font-size: 14px;" />
                        <ToggleButton fx:id="themeToggle" onAction="#handleThemeToggle" text="ðŸŒ™ Dark" />
                    </HBox>

                    <Separator />

                    <HBox spacing="10" alignment="CENTER_LEFT">
                        <Label text="Auto-save:" style="-fx-font-size: 14px;" />
                        <CheckBox fx:id="autoSaveCheckbox" selected="true" onAction="#handleAutoSaveToggle" />
                    </HBox>

                    <Separator />

                    <HBox spacing="10" alignment="CENTER_LEFT">
                        <Label text="Font Size:" style="-fx-font-size: 14px;" />
                        <ComboBox fx:id="fontSizeComboBox" prefWidth="100" />
                    </HBox>

                    <Separator />

                    <Button onAction="#handleClearHistory" text="Clear All Entries"
                            style="-fx-background-color: #ff4757; -fx-text-fill: white; -fx-padding: 10 20; -fx-font-weight: bold; -fx-cursor: hand;" />
                </VBox>
            </VBox>
        </StackPane>
    </right>
</BorderPane>